
# 开发规范指南

为保证代码质量、可维护性、安全性与可扩展性，请在开发过程中严格遵循以下规范。

## 一、项目基本信息

- **用户工作目录**：`E:\杰普实训\IDEA\SmartAgriculture`
- **代码作者**：86187
- **操作系统版本**：Windows 11
- **当前时间**：2025-11-02 23:05:35

## 二、技术栈要求

- **主框架**：无明确 Spring Boot 框架要求，基于 Java 8 和 Maven 构建
- **语言版本**：Java 1.8
- **构建工具**：Maven
- **数据库驱动**：
  - MySQL Connector/J 版本：8.0.33
- **连接池**：
  - Druid 版本：1.2.8
- **测试框架**：
  - JUnit 版本：4.12

## 三、目录结构说明

```
SmartAgriculture
├── env-gather-base
│   └── src
│       └── main
│           └── java
│               └── com
│                   └── briup
│                       └── smart
│                           └── env
│                               ├── client
│                               ├── entity
│                               ├── server
│                               ├── support
│                               └── util
└── env-gather-impl
    └── src
        ├── main
        │   ├── java
        │   │   └── com
        │   │       └── briup
        │   │           └── mev
        │   │               ├── client
        │   │               ├── main
        │   │               ├── server
        │   │               └── util
        │   └── resources
        └── test
            └── java
```

## 四、分层架构规范

| 层级        | 职责说明                         | 开发约束与注意事项                                               |
|-------------|----------------------------------|----------------------------------------------------------------|
| **Client**  | 客户端通信或数据采集模块         | 可以使用 `com.briup.smart.env.client` 包下进行设计             |
| **Server**  | 提供服务处理逻辑                 | 实现业务功能时应尽量解耦，并符合接口优先原则                    |
| **Entity**  | 数据库实体对象映射               | 所有 Entity 应统一放在 `entity` 包中                            |
| **Support** | 支撑组件及辅助类                 | 如工具类、配置加载等                                            |
| **Util**    | 工具函数封装                     | 非常用的通用方法建议集中管理                                  |

### 接口与实现分离

- 所有接口实现类需放在接口所在包下的 `impl` 子包中。
- 若存在多个子模块（如 base 和 impl），请确保依赖关系正确设置。

## 五、安全与性能规范

### 输入校验

- 尽量避免手动拼接 SQL 字符串，防止 SQL 注入攻击。
- 使用标准 JDBC 或 ORM 方式访问数据库。

### 事务管理

- 当前未使用特定框架提供的事务注解机制（如 Spring 的 @Transactional）。
- 如后续引入相关框架，请注意控制事务边界和性能影响。

## 六、代码风格规范

### 命名规范

| 类型       | 命名方式             | 示例                  |
|------------|----------------------|-----------------------|
| 类名       | UpperCamelCase       | `UserServiceImpl`     |
| 方法/变量  | lowerCamelCase       | `saveUser()`          |
| 常量       | UPPER_SNAKE_CASE     | `MAX_LOGIN_ATTEMPTS`  |

### 注释规范

- 所有类、方法、字段需添加 **Javadoc** 注释。
- 中文注释适用于中国开发者环境，提高团队协作效率。

### 类型命名规范（阿里巴巴风格）

| 后缀 | 用途说明                     | 示例         |
|------|------------------------------|--------------|
| DTO  | 数据传输对象                 | `UserDTO`    |
| DO   | 数据库实体对象               | `UserDO`     |
| BO   | 业务逻辑封装对象             | `UserBO`     |
| VO   | 视图展示对象                 | `UserVO`     |
| Query| 查询参数封装对象             | `UserQuery`  |

## 七、扩展性与日志规范

### 接口优先原则

- 所有业务逻辑通过接口定义（例如 `UserService`），具体实现放在对应包中的 `impl` 文件夹内。

### 日志记录

- 由于未指定具体日志框架，推荐采用 SLF4J + Logback 组合方案，便于后期替换或集成其他日志系统。

## 八、编码原则总结

| 原则       | 说明                                       |
|------------|--------------------------------------------|
| **SOLID**  | 高内聚、低耦合，增强可维护性与可扩展性     |
| **DRY**    | 避免重复代码，提高复用性                   |
| **KISS**   | 保持代码简洁易懂                           |
| **YAGNI**  | 不实现当前不需要的功能                     |
| **OWASP**  | 防范常见安全漏洞，如 SQL 注入、XSS 等      |
